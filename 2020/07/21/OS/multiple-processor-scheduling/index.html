<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="[OS] Multiple Processor Scheduling"><meta name="keywords" content="CS,OS"><meta name="author" content="Song Hayoung"><meta name="copyright" content="Song Hayoung"><title>[OS] Multiple Processor Scheduling | SUMFIのBlog</title><link rel="shortcut icon" href="/songcon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-169368422-1', 'auto');
ga('send', 'pageview');</script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"7LZ6OJ4D6C","apiKey":"9a84e13f74ea78c3fd54512c10139c56","indexName":"git blog","hits":{"per_page":10},"languages":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}.","hits_stats":"${hits} results found in ${time} ms"}},
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/rss2.xml" title="SUMFIのBlog" type="application/rss+xml">
</head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%8B%A4%EC%A4%91%EC%B2%98%EB%A6%AC%EA%B8%B0-%EC%8A%A4%EC%BC%80%EC%A5%B4%EB%A7%81"><span class="toc-number">1.</span> <span class="toc-text">다중처리기 스케쥴링</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%8B%A4%EC%A4%91%EC%B2%98%EB%A6%AC%EA%B8%B0-%EC%8A%A4%EC%BC%80%EC%A5%B4%EB%A7%81%EC%97%90-%EB%8C%80%ED%95%9C-%EC%A0%91%EA%B7%BC-%EB%B0%A9%EB%B2%95"><span class="toc-number">2.</span> <span class="toc-text">다중처리기 스케쥴링에 대한 접근 방법</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Asymmetric-MultiProcessing"><span class="toc-number">2.1.</span> <span class="toc-text">Asymmetric MultiProcessing</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Symmetric-MultiProcessing"><span class="toc-number">2.2.</span> <span class="toc-text">Symmetric MultiProcessing</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%B2%98%EB%A6%AC%EA%B8%B0-%EC%B9%9C%ED%99%94%EC%84%B1"><span class="toc-number">3.</span> <span class="toc-text">처리기 친화성</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%B6%80%ED%95%98-%EA%B7%A0%EB%93%B1%ED%99%94"><span class="toc-number">4.</span> <span class="toc-text">부하 균등화</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Pull-%EC%9D%B4%EC%A3%BC"><span class="toc-number">4.1.</span> <span class="toc-text">Pull 이주</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Push-%EC%9D%B4%EC%A3%BC"><span class="toc-number">4.2.</span> <span class="toc-text">Push 이주</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%8B%A4%EC%A4%91%EC%BD%94%EC%96%B4-%ED%94%84%EB%A1%9C%EC%84%B8%EC%84%9C"><span class="toc-number">5.</span> <span class="toc-text">다중코어 프로세서</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EA%B0%80%EC%83%81%ED%99%94%EC%99%80-%EC%8A%A4%EC%BC%80%EC%A5%B4%EB%A7%81"><span class="toc-number">6.</span> <span class="toc-text">가상화와 스케쥴링</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://avatars3.githubusercontent.com/u/37806785?s=460&amp;u=8c68d685faf7c5280cfbd736a6b1730b55fb4203&amp;v=4"></div><div class="author-info__name text-center">Song Hayoung</div><div class="author-info__description text-center"></div><div class="follow-button"><a target="_blank" rel="noopener" href="https://www.instagram.com/hayoung0_0/">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">6772</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">185</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">67</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">VISITED</div><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Seoul Korea</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Jeju Korea</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">British Columbia Canada</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Boracay Philippines</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">三重　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">大阪　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">名古屋　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">静岡　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">札幌　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">京都　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Bangkok Thailand</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://xxxx.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">SUMFIのBlog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a><a class="site-page" href="/about">About</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a></span></div><div id="post-info"><div id="post-title">[OS] Multiple Processor Scheduling</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-07-21</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Computer-Science/">Computer Science</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Computer-Science/OS/">OS</a><div class="post-meta-wordcount"><span>Word count: </span><span class="word-count">407</span><span class="post-meta__separator">|</span><span>Reading time: 2 min</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="다중처리기-스케쥴링"><a href="#다중처리기-스케쥴링" class="headerlink" title="다중처리기 스케쥴링"></a>다중처리기 스케쥴링</h2><span id="more"></span>
<p>다중 CPU가 사용이 가능하다면 Load Sharing(부하 공유)가 가능해진다. </p>
<h2 id="다중처리기-스케쥴링에-대한-접근-방법"><a href="#다중처리기-스케쥴링에-대한-접근-방법" class="headerlink" title="다중처리기 스케쥴링에 대한 접근 방법"></a>다중처리기 스케쥴링에 대한 접근 방법</h2><h3 id="Asymmetric-MultiProcessing"><a href="#Asymmetric-MultiProcessing" class="headerlink" title="Asymmetric MultiProcessing"></a>Asymmetric MultiProcessing</h3><p>비대칭 다중처리는 Master Server 처리기가 모든 스케쥴링 결정과 입출력 처리 그리고 다른 시스템의 활동을 처리하게 한다. 다른 처리기들은 사용자의 코드만 실행한다.</p>
<h3 id="Symmetric-MultiProcessing"><a href="#Symmetric-MultiProcessing" class="headerlink" title="Symmetric MultiProcessing"></a>Symmetric MultiProcessing</h3><p>대칭 다중처리는 각 처리기가 독자적으로 스케쥴링을 수행한다. 모든 프로세스는 공동 Ready Queue에 있거나 각 처리기의 Ready Queue에 존재한다. 각 처리기의 스케쥴러가 Ready Queue를 확인해 실행할 프로세스를 선택해 진행한다.</p>
<h2 id="처리기-친화성"><a href="#처리기-친화성" class="headerlink" title="처리기 친화성"></a>처리기 친화성</h2><p>프로세스가 특정 처리기에서 실행중일 때 캐시메모리에는 <strong>가장 최근</strong>에 접근된 데이터가 처리기의 캐시를 채우게 된다. 이 때 프로세스가 처리기를 이주하게 되었을 때 다음과 같은 상황이 벌어진다.</p>
<ol>
<li>처리기의 캐시 메모리 내용은 무효화 된다.</li>
<li>처리기의 캐시는 다시 채워져야한다.<br>캐시를 무효화하고 다시 채우는 작업은 비용이 많이 들기 때문에 SMP시스템에서 대부분의 경우 같은 처리기에서 프로세스를 실행시키려고 한다. 이를 처리기 친화성이라 한다.</li>
</ol>
<h2 id="부하-균등화"><a href="#부하-균등화" class="headerlink" title="부하 균등화"></a>부하 균등화</h2><p>SMP시스템에서 자원 사용을 최대화 하려면 Load Balancing이 중요하다. Load Balancing은 SMP 시스템의 모든 처리기 사이에 부하가 균등하게 분산되도록 시도한다. Load Balancing기능은 SMP 시스템의 처리기별 독립적 Ready Queue가 할당된 시스템에만 필요한 기능이다. <strong>이 Load Balancing은 Processor Affinity에 반(反）하게 된다.</strong></p>
<h3 id="Pull-이주"><a href="#Pull-이주" class="headerlink" title="Pull 이주"></a>Pull 이주</h3><p>Pull 이주는 <strong>유휴상태의 처리기가</strong> 바쁜 처리기를 기다리는 프로세스를 자기쪽으로 Pull해온다.</p>
<h3 id="Push-이주"><a href="#Push-이주" class="headerlink" title="Push 이주"></a>Push 이주</h3><p>Push 이주는 <strong>특정 태스크가</strong> 주기적으로 각 처리기의 부하를 검사하고 <strong>부하 불균등 상태</strong>라면 덜 바쁜 처리기로 Push된다.</p>
<h2 id="다중코어-프로세서"><a href="#다중코어-프로세서" class="headerlink" title="다중코어 프로세서"></a>다중코어 프로세서</h2><p>컴퓨터 하드웨어의 경향은 하나의 물리적인 칩 안에 여러 개의 처리기 코어를 장착한다. 이를 다중코어 프로세서라고 하며 깍 코어는 구조적인 상태 유지를 위한 레지스터 집합을 가진다. 이를 통해 OS 입장에서 별개의 물리 처리기처럼 보이게 된다. 이 다중코어 프로세서는 스케쥴링을 복잡하게 한다. <strong>Memory Stall</strong>현상은 Cache Miss 등 여러 원인에 의해 발생되게 되는데 프로세서가 메모리를 접근할 때 데이터가 가용해지기를 기다리면서 시간을 허비하는 현상이다. 이를 해결하기 위해 하드웨어 설계부터 스레드가 각 코어에 할당될 수 있도록 <strong>다중 스레드 프로세스 코어</strong>를 구현한다.</p>
<h2 id="가상화와-스케쥴링"><a href="#가상화와-스케쥴링" class="headerlink" title="가상화와 스케쥴링"></a>가상화와 스케쥴링</h2><p>가상화 시스템이 스케쥴링에 영향을 미치는 요소는 매우 방대하기 때문에 짧게 표현하기 힘들다. 개략적으로 가상화 소프트웨어는 시스템에서 실행중인 Virtual Machine마다 하나 이상의 가상 CPU를 제공하고 물리 CPU들을 머신이 사용할 수 있도록 스케쥴한다. 일반적인 가상 환경은 하나의 호스트 OS가 다수의 게스트 OS를 관리하게 되는 구조로 이루어지게 되는데 각 게스트 운영체제는 시분할 혹은 실시간 연산을 포함하는 특정 사용 환경 등 사용자에 맞게 세밀하게 조율될 수 있다. 예를들어 100ms을 할당하는 시분할 운영체제에서 가상 머신 내의 운영체제가 실제 <strong>얼마만큼 CPU를 할당받는가</strong>에 대한 내용은 가상화 시스템에 달려있다. 아무리 가상화 시스템의 스케쥴 정보를 알고 있고 조율을 했다 하더라도 가상머신의 타이머는 물리 CPU의 시계보다 오래 걸리기 때문에 부정확하기 때문에 경우에 따라 스케쥴링이 무산될 수 있다.</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Song Hayoung</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://songhayoung.github.io/2020/07/21/OS/multiple-processor-scheduling/">https://songhayoung.github.io/2020/07/21/OS/multiple-processor-scheduling/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/CS/">CS</a><a class="post-meta__tags" href="/tags/OS/">OS</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/07/21/OS/critical-section/"><i class="fa fa-chevron-left">  </i><span>[OS] Critical Section</span></a></div><div class="next-post pull-right"><a href="/2020/07/21/OS/Scheduling-Algorithms/"><span>[OS] Scheduling Algorithms</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '3604b61642355579f55e',
  clientSecret: 'f552120f18ac5aee3f6297e05e97d94c0a25cd4b',
  repo: 'SongHayoung.github.io',
  owner: 'SongHayoung',
  admin: 'SongHayoung',
  id: md5(decodeURI(location.pathname)),
  language: 'en'
})
gitalk.render('gitalk-container')</script></div></div><footer class="footer-bg" style="background-image: url(https://xxxx.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2020 - 2023 By Song Hayoung</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">Learning how to walk slowly to not miss important things</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script src="/js/search/algolia.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>