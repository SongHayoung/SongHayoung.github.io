<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="[Clean  Code] 시스템"><meta name="keywords" content="Clean Code"><meta name="author" content="Song Hayoung"><meta name="copyright" content="Song Hayoung"><title>[Clean  Code] 시스템 | SUMFIのBlog</title><link rel="shortcut icon" href="/songcon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-169368422-1', 'auto');
ga('send', 'pageview');</script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"7LZ6OJ4D6C","apiKey":"9a84e13f74ea78c3fd54512c10139c56","indexName":"git blog","hits":{"per_page":10},"languages":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}.","hits_stats":"${hits} results found in ${time} ms"}},
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/rss2.xml" title="SUMFIのBlog" type="application/rss+xml">
</head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%A0%9C%EC%9E%91%EA%B3%BC-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%82%AC%EC%9A%A9%EC%9D%84-%EB%B6%84%EB%A6%AC%ED%95%98%EB%9D%BC"><span class="toc-number">1.</span> <span class="toc-text">시스템 제작과 시스템 사용을 분리하라</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Main-%EB%B6%84%EB%A6%AC"><span class="toc-number">2.</span> <span class="toc-text">Main 분리</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%ED%8C%A9%ED%86%A0%EB%A6%AC"><span class="toc-number">3.</span> <span class="toc-text">팩토리</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%A3%BC%EC%9E%85"><span class="toc-number">4.</span> <span class="toc-text">의존성 주입</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%ED%99%95%EC%9E%A5"><span class="toc-number">5.</span> <span class="toc-text">확장</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%ED%9A%A1%EB%8B%A8-%EA%B4%80%EC%8B%AC%EC%82%AC"><span class="toc-number">6.</span> <span class="toc-text">횡단 관심사</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%9E%90%EB%B0%94-%ED%94%84%EB%A1%9D%EC%8B%9C"><span class="toc-number">7.</span> <span class="toc-text">자바 프록시</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%88%9C%EC%88%98-%EC%9E%90%EB%B0%94-AOP-%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC"><span class="toc-number">8.</span> <span class="toc-text">순수 자바 AOP 프레임워크</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AspectJ-%EA%B4%80%EC%A0%90"><span class="toc-number">9.</span> <span class="toc-text">AspectJ 관점</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EA%B4%80%EC%8B%AC%EC%82%AC%EC%9D%98-%EB%B6%84%EB%A6%AC"><span class="toc-number">10.</span> <span class="toc-text">관심사의 분리</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://avatars3.githubusercontent.com/u/37806785?s=460&amp;u=8c68d685faf7c5280cfbd736a6b1730b55fb4203&amp;v=4"></div><div class="author-info__name text-center">Song Hayoung</div><div class="author-info__description text-center"></div><div class="follow-button"><a target="_blank" rel="noopener" href="https://www.instagram.com/hayoung0_0/">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">9511</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">192</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">60</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">VISITED</div><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Seoul Korea</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Jeju Korea</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">British Columbia Canada</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Boracay Philippines</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">三重　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">大阪　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">名古屋　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">静岡　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">札幌　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">京都　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Bangkok Thailand</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://xxxx.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">SUMFIのBlog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a><a class="site-page" href="/about">About</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a></span></div><div id="post-info"><div id="post-title">[Clean  Code] 시스템</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-08-08</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Clean-Code/">Clean Code</a><div class="post-meta-wordcount"><span>Word count: </span><span class="word-count">455</span><span class="post-meta__separator">|</span><span>Reading time: 2 min</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>해당 포스트는 <a target="_blank" rel="noopener" href="http://ebook.insightbook.co.kr/">Clean Code</a>의 내용을 참고하여 작성되었습니다.<br><span id="more"></span></p>
<h2 id="시스템-제작과-시스템-사용을-분리하라"><a href="#시스템-제작과-시스템-사용을-분리하라" class="headerlink" title="시스템 제작과 시스템 사용을 분리하라"></a>시스템 제작과 시스템 사용을 분리하라</h2><p>소프트웨어 시스템은 어플리케이션 객체를 제작하고 의존성을 서로 연결하는 준비 과정과 준비 과정 이후에 이어지는 런타임 로직을 분리해야 한다. 제작과 사용은 아주 다르다. 시작 단계는 모든 어플리케이션이 풀어야 하는 <strong>관심사</strong>이다. <strong>관심사 분리</strong>는 우리 분야에서 가장 오래되고 가장 중요한 설계 기법이다.</p>
<p>하나의 클래스내에 준비 과정 코드를 Lazy Initialization으로 구현하고  런타임 로직이 마구 뒤섞여있는 코드를 본 적이 있을 것이다. 이런 시스템 곳곳에 흩어져 있다. 모듈성은 저조하며 중복은 심각하다.</p>
<h2 id="Main-분리"><a href="#Main-분리" class="headerlink" title="Main 분리"></a>Main 분리</h2><p>시스템 생성과 시스템 사용을 분리하는 한 가지 방법으로 생성과 관련한 코드는 모두 main이나 main이 호출하는 모듈로 옮기고 나머지 시스템은 모든 객체가 생성되었고 모든 의존성이 연결되었다고 가정한다. 이렇게 되면 제어의 흐름은 따라가기 쉽다. main함수에서 시스템에 필요한 객체를 생성하고 어플리케이션은 이를 사용한다. 즉 어플리케이션은 main이나 객체가 생성되는 과정을 전혀 몰라도 된다.</p>
<h2 id="팩토리"><a href="#팩토리" class="headerlink" title="팩토리"></a>팩토리</h2><p>객체가 생성되는 시점을 어플리케이션이 결정해야할 필요도 있다. 이 때는 추상 팩토리 패턴을 사용해 생성하는 코드를 감춘다.</p>
<h2 id="의존성-주입"><a href="#의존성-주입" class="headerlink" title="의존성 주입"></a>의존성 주입</h2><p>DI는 IoC기법을 의존성 관리에 적용한 메커니즘이다. 의존성 생성에 대한 책임을 다른 객체에게 맡기므로 SRP를 지키게 된다.</p>
<h2 id="확장"><a href="#확장" class="headerlink" title="확장"></a>확장</h2><p>처음부터 올바르게 시스템을 만들 수 있다는 믿음은 미신이다. 대신에 우리는 오늘 주어진 사용자 스토리에 맞춰 시스템을 구현해야 한다. 내일은 새로운 스토리에 맞춰 시스템을 조정하고 확장하면 된다. 이것이 반복적이고 점진적인 애자일 방식의 핵심이다. TDD와 리팩터링으로 얻어지는 깨끗한 코드는 코드 수준에서 시스템을 조정하고 확장하기 쉽게 만든다. 시스템도 동일하다.</p>
<blockquote>
<p>관심사를 적절히 분리해 관리한다면 소프트웨어 아키텍처는 점진적으로 발전할 수 있다.</p>
</blockquote>
<h2 id="횡단-관심사"><a href="#횡단-관심사" class="headerlink" title="횡단 관심사"></a>횡단 관심사</h2><p>트랜잭션, 영속성, 보안과 같은 것들은 어떻게 처리를 해야할까? 논리적으로는 독립된 형태이지만 코드 여기저기에 위치하기 쉬운 코드는 어떻게 해야할까? AOP로 해결할 수 있다. AOP에서 aspect라는 모듈 구성 개념은 <strong>특정 관심사를 지원하려면 시스템에서 특정 지점들이 동작하는 방식을 일관성 있게 바꿔야한다</strong>라고 명시한다.</p>
<h2 id="자바-프록시"><a href="#자바-프록시" class="headerlink" title="자바 프록시"></a>자바 프록시</h2><p>자바 프록시는 단순한 상황에 적합하다. 개별 객체나 클래스에서 메소드 호출을 감싸는 경우가 좋은 예다. 단순한 value object와 비즈니스 로직을 담는 POJO가 있다고 가정하자. 그렇다면 프록시 API에는 InvocatonHandler를 넘겨줘야 한다. 넘긴 InvocationHandler는 프록시에 호출되는 value object의 메소드를 구현하는데 사용된다. 프록시는 자바 리플렉션 API를 사용해 제네릭스 메소드를 상응하는 POJO 클래스의 메소드로 맵핑한다. 하지만 코드가 많고 복잡한건 단점이다. 바이트 조작 라이브러리를 사용해도 꽤나 어렵다.</p>
<h2 id="순수-자바-AOP-프레임워크"><a href="#순수-자바-AOP-프레임워크" class="headerlink" title="순수 자바 AOP 프레임워크"></a>순수 자바 AOP 프레임워크</h2><p>AOP Framework를 통해 위의 단점들을 해결할 수 있다. Spring에서는 POJO로 비즈니스 로직을 작성해 도메인에만 집중할 수 있다.</p>
<h2 id="AspectJ-관점"><a href="#AspectJ-관점" class="headerlink" title="AspectJ 관점"></a>AspectJ 관점</h2><p>관심사를 관점으로 분리하는 가장 강력한 도구는 AspectJ 언어이다. AspectJ는 관점을 분리하는 강력하고 풍부한 도구 집합을 제공하긴 하지만 새 도구를 사용하고 새 언어 문법과 사용법을 익혀야 한다는 단점이 있다. 하지만 최근에 나온 AspectJ Annotation form은 이를 어느정도 완화한다.</p>
<h2 id="관심사의-분리"><a href="#관심사의-분리" class="headerlink" title="관심사의 분리"></a>관심사의 분리</h2><p>관심사를 분리하는 방식은 장점이 많다. 어플리케이션 도메인 논리를 POJO로 작성할 수 있다면 즉 코드 수준에서 아키텍처 관심사를 분리할 수 있다면 진정한 테스트 주도 아키텍처 구축이 가능해진다. 또한 모듈을 나누고 관심사를 분리하면 지엽적인 관리와 결정이 가능해진다. 관심사를 분리한 POJO 시스템은 기민함을 제공한다. 덕분에 최신 정보에 기반해 최선의 시점에 최적의 결정을 내리기가 쉬워진다.</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Song Hayoung</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://songhayoung.github.io/2020/08/08/Clean%20Code/clean-code11/">https://songhayoung.github.io/2020/08/08/Clean%20Code/clean-code11/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Clean-Code/">Clean Code</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/08/08/Clean%20Code/clean-code12/"><i class="fa fa-chevron-left">  </i><span>[Clean Code] 창발성</span></a></div><div class="next-post pull-right"><a href="/2020/08/08/Languages/Effective%20JAVA/item17/"><span>[Effective Java] 변경 가능성을 최소화하라</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '3604b61642355579f55e',
  clientSecret: 'f552120f18ac5aee3f6297e05e97d94c0a25cd4b',
  repo: 'SongHayoung.github.io',
  owner: 'SongHayoung',
  admin: 'SongHayoung',
  id: md5(decodeURI(location.pathname)),
  language: 'en'
})
gitalk.render('gitalk-container')</script></div></div><footer class="footer-bg" style="background-image: url(https://xxxx.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2020 - 2023 By Song Hayoung</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">Learning how to walk slowly to not miss important things</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script src="/js/search/algolia.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>