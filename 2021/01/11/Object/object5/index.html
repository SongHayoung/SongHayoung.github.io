<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="[오브젝트] 책임 할당하기"><meta name="keywords" content="OOP"><meta name="author" content="Song Hayoung"><meta name="copyright" content="Song Hayoung"><title>[오브젝트] 책임 할당하기 | SUMFIのBlog</title><link rel="shortcut icon" href="/songcon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-169368422-1', 'auto');
ga('send', 'pageview');</script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"7LZ6OJ4D6C","apiKey":"9a84e13f74ea78c3fd54512c10139c56","indexName":"git blog","hits":{"per_page":10},"languages":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}.","hits_stats":"${hits} results found in ${time} ms"}},
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/rss2.xml" title="SUMFIのBlog" type="application/rss+xml">
</head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%B1%85%EC%9E%84-%ED%95%A0%EB%8B%B9%ED%95%98%EA%B8%B0"><span class="toc-number">1.</span> <span class="toc-text">책임 할당하기</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%8F%84%EB%A9%94%EC%9D%B8-%EA%B0%9C%EB%85%90%EC%97%90%EC%84%9C-%EC%B6%9C%EB%B0%9C%ED%95%98%EA%B8%B0"><span class="toc-number">2.</span> <span class="toc-text">도메인 개념에서 출발하기</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%B1%85%EC%9E%84-%ED%95%A0%EB%8B%B9%ED%95%98%EA%B8%B0-1"><span class="toc-number">3.</span> <span class="toc-text">책임 할당하기</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%86%92%EC%9D%80-%EC%9D%91%EC%A7%91%EB%8F%84-%EB%82%AE%EC%9D%80-%EA%B2%B0%ED%95%A9%EB%8F%84"><span class="toc-number">4.</span> <span class="toc-text">높은 응집도, 낮은 결합도</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%B3%80%EA%B2%BD%EC%9D%98-%EC%9D%B4%EC%9C%A0%EC%97%90-%EB%94%B0%EB%9D%BC-%ED%81%B4%EB%9E%98%EC%8A%A4%EB%A5%BC-%EB%B6%84%EB%A6%AC%ED%95%98%EA%B8%B0"><span class="toc-number">5.</span> <span class="toc-text">변경의 이유에 따라 클래스를 분리하기</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://avatars3.githubusercontent.com/u/37806785?s=460&amp;u=8c68d685faf7c5280cfbd736a6b1730b55fb4203&amp;v=4"></div><div class="author-info__name text-center">Song Hayoung</div><div class="author-info__description text-center"></div><div class="follow-button"><a target="_blank" rel="noopener" href="https://www.linkedin.com/in/hayoung-song-9523b61bb/">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">10832</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">193</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">61</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">VISITED</div><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Seoul Korea</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Jeju Korea</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">British Columbia Canada</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Boracay Philippines</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">三重　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">大阪　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">名古屋　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">静岡　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">札幌　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">京都　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Bangkok Thailand</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://xxxx.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">SUMFIのBlog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a><a class="site-page" href="/about">About</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a></span></div><div id="post-info"><div id="post-title">[오브젝트] 책임 할당하기</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-01-11</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Object/">Object</a><div class="post-meta-wordcount"><span>Word count: </span><span class="word-count">523</span><span class="post-meta__separator">|</span><span>Reading time: 3 min</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="책임-할당하기"><a href="#책임-할당하기" class="headerlink" title="책임 할당하기"></a>책임 할당하기</h2><span id="more"></span>
<p>책임 중심 설계를 위해서는 다음과 같은 원칙을 따라야 한다.</p>
<ul>
<li>데이터보다 행동을 먼저 결정하라</li>
<li>협력이라는 문맥에서 책임을 결정하라</li>
</ul>
<p>객체는 데이터보다 어떠한 책임을 가지는지를 먼저 고민해야 한다. 그리고 그 책임을 부여하는데 도움을 받기 위해선 협력 내에서 힌트를 얻을 수 있다. 그리고 이런 객체지향을 위해 대중적으로 널리 알려진 패턴이 <strong>GRASP</strong> 패턴이다. 이는 General Responsibility Assignment Software Pattern으로 객체에게 책임을 할당할 때 지침으로 삼을 수 있는 원칙들의 집합을 패턴으로 나타낸 것이다.</p>
<h2 id="도메인-개념에서-출발하기"><a href="#도메인-개념에서-출발하기" class="headerlink" title="도메인 개념에서 출발하기"></a>도메인 개념에서 출발하기</h2><p>설계를 시작할 때 우선 해야 할 행동은 <strong>도메인 개념에서 출발</strong>하기 이다. 설계 전에 도메인 내에 존재하는 많은 개념들을 책임을 할당하는 객체의 대상으로 활용하면 형상화하기 쉬워진다. 즉, 도메인 개념과 개념 사이의 관계를 대략적으로 표시하는 것 이다.</p>
<h2 id="책임-할당하기-1"><a href="#책임-할당하기-1" class="headerlink" title="책임 할당하기"></a>책임 할당하기</h2><p>설계를 시작하면서 처음으로 고려해야할 사항은 어플리케이션이 제공해야 하는 기능을 <strong>어플리케이션의 책임</strong>으로 생각하는 것이다. 이 책임을 어플리케이션에게 전송된 메세지라 간주하고 이를 책임질 첫 번째 객체를 선택하는 것으로 시작한다. 가령 다음과 같이 책임 할당의 대상을 찾아 볼 수 있다.</p>
<ul>
<li>메세지를 전송할 객체는 무엇을 원하는가?</li>
<li>메세지를 수신할 적합한 객체는 누구인가?</li>
</ul>
<p>이로부터 시작해서 하나씩 타고 들어갈 수 있다. 가령 앞선 예를 들었던 커피 판매 어플리케이션의 경우 <code>주문하라</code>라는 메세지를 받을 객체는 Order가 된다. 그리고 이에 대해 <code>가격을 계산하라</code>라는 메세지는 어떤 객체가 책임을 가질 것 인가? 와 같은 순으로 결정할 수 있다.</p>
<h2 id="높은-응집도-낮은-결합도"><a href="#높은-응집도-낮은-결합도" class="headerlink" title="높은 응집도, 낮은 결합도"></a>높은 응집도, 낮은 결합도</h2><p>그 다음으로 고려되야 할 사항은 결합도와 응집도에 대한 부분이다. 동일한 기능을 구현할 수 있는 설계는 무수히 많이 존재한다. 그 중에서 어떤 설계를 택할지에 대해 고민이 되는 경우도 있다. 그럴때는 응집도와 결합도의 측면에서 고민해 보면 좋다. 이를 <strong>LOW COUPLING</strong> 패턴과 <strong>HIGH COHESION</strong> 패턴이라 한다.</p>
<p>Low Couping 패턴은 어떻게 하면 의존성을 낮추고 변화의 영향을 줄이며 재사용성을 증가시킬까에 대한 고민에서부터 출발한다. 이를 위해선 설계의 전체적인 결합도가 낮게 유지되도록 책임을 할당하면 된다. 낮은 결합도는 모든 설계 과정에서 염두해야 하는 원리이며 설계 결정을 평가할 때 적용할 수 있는 평가원리이다. 여러 설계에 대한 대안이 나왔을 때 낮은 결합도를 유지할 수 있는 설계를 선택해야 한다.</p>
<p>High Cohesion 패턴은 어떻게 하면 복잡성을 관리 가능한 수준으로 유지할 것인가에 대한 해답을 제시한다. 높은 응집도를 유지하도록 책임을 할당하는 방식으로 말이다. 낮은 결합도와 마찬가지로 설계 과정에 있어 염두해야 할 원리이다. </p>
<p>위와 같은 사항을 통해 책임 주도 설계에 대해 전반적인 이해를 할 수 있다. 이와 더불어 코드를 통해서 조금 더 고민해 볼 수 있는 부분들이 있다.</p>
<h2 id="변경의-이유에-따라-클래스를-분리하기"><a href="#변경의-이유에-따라-클래스를-분리하기" class="headerlink" title="변경의 이유에 따라 클래스를 분리하기"></a>변경의 이유에 따라 클래스를 분리하기</h2><p>클래스는 변경의 이유에 따라 분리되어야 한다. 가령 앞선 커피 주문 시스템에서 Coffee의 클래스를 보면 하나의 클래스 내에 두 개의 할인정책에 따른 코드가 나타난다. 이는 새로운 할인 정책이나, 기존 정책의 변경과 같은 수정이 필요할 때 기존 코드를 수정하게 되는 문제가 생긴다.</p>
<p>이를 파악하기 위한 방법은 <strong>인스턴스 변수가 초기화되는 시점</strong>을 이용하는 것이다. 가령 AmountDiscount 정책을 위한 Coffee 에서는 PercentDiscount에 대한 변수 초기화가 이루어지지 않는다.</p>
<p>두번째 방법은 <strong>메서드들이 인스턴스 변수를 사용하는 방식</strong>을 파악하는 것이다. 모든 메서드가 객체의 모든 속성을 사용한다면 이는 응집도가 높다고 말할 수 있다. 반대로 메서드들이 사용하는 <strong>속성</strong>에 따라 <strong>그룹이 나뉜</strong>다면 응집도가 약하다고 말할 수 있다. 이를 해결하기 위해서는 클래스를 분리해야 한다.</p>
<p>이에 따라 Coffee 객체에서 이 내용을 분리하기 위해 AmountDiscount 클래스와 PercentDiscount 클래스를 나누었다고 하자. 이렇게 나누기만 하면 또 다른 문제가 생긴다. 두 할인정책을 가지기 위해 Coffee 객체는 두 인스턴스가 존재해야 한다. 이 문제는 <strong>다형성</strong>의 관점에서 해결할 수 있다. AmountDiscount와 PercentDiscount의 <strong>책임</strong>은 할인에 대한 결과를 제공하는 것이다. 이 책임을 기준으로 분리를 한다면 Discount라는 인터페이스를 만들고 Coffee 객체는 인터페이스를 통해 커뮤니케이션을 하도록 설계하면 된다.</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Song Hayoung</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://songhayoung.github.io/2021/01/11/Object/object5/">https://songhayoung.github.io/2021/01/11/Object/object5/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/OOP/">OOP</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2021/01/12/PS/LeetCode/3sum/"><i class="fa fa-chevron-left">  </i><span>[LeetCode] 3Sum</span></a></div><div class="next-post pull-right"><a href="/2021/01/11/PS/LeetCode/integer-to-roman/"><span>[LeetCode] Integer To Roman</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '3604b61642355579f55e',
  clientSecret: 'f552120f18ac5aee3f6297e05e97d94c0a25cd4b',
  repo: 'SongHayoung.github.io',
  owner: 'SongHayoung',
  admin: 'SongHayoung',
  id: md5(decodeURI(location.pathname)),
  language: 'en'
})
gitalk.render('gitalk-container')</script></div></div><footer class="footer-bg" style="background-image: url(https://xxxx.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2020 - 2024 By Song Hayoung</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">Learning how to walk slowly to not miss important things</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script src="/js/search/algolia.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>