<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="[ByteByteGo] How to Design a Good API?"><meta name="keywords" content="System Design"><meta name="author" content="Song Hayoung"><meta name="copyright" content="Song Hayoung"><title>[ByteByteGo] How to Design a Good API? | SUMFIのBlog</title><meta name="robots" content="noindex"><link rel="shortcut icon" href="/songcon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-169368422-1', 'auto');
ga('send', 'pageview');</script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"7LZ6OJ4D6C","apiKey":"9a84e13f74ea78c3fd54512c10139c56","indexName":"git blog","hits":{"per_page":10},"languages":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}.","hits_stats":"${hits} results found in ${time} ms"}},
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/rss2.xml" title="SUMFIのBlog" type="application/rss+xml">
</head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#How-to-Design-a-Good-API"><span class="toc-number">1.</span> <span class="toc-text">How to Design a Good API?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#The-Importance-of-Good-API-Design"><span class="toc-number">2.</span> <span class="toc-text">The Importance of Good API Design</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Characteristics-of-a-Good-API"><span class="toc-number">3.</span> <span class="toc-text">Characteristics of a Good API</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Requirements-Gathering"><span class="toc-number">4.</span> <span class="toc-text">Requirements Gathering</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#One-API-One-Purpose"><span class="toc-number">5.</span> <span class="toc-text">One API, One Purpose</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Clarity-and-Consistency"><span class="toc-number">6.</span> <span class="toc-text">Clarity and Consistency</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Choosing-intuitive-names"><span class="toc-number">6.1.</span> <span class="toc-text">Choosing intuitive names</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Consistent-data-formats"><span class="toc-number">6.2.</span> <span class="toc-text">Consistent data formats</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Documentation-is-Key"><span class="toc-number">7.</span> <span class="toc-text">Documentation is Key</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Describe-endpoints-and-methods"><span class="toc-number">7.1.</span> <span class="toc-text">Describe endpoints and methods</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Provide-examples-and-tutorials"><span class="toc-number">7.2.</span> <span class="toc-text">Provide examples and tutorials</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Keep-documentation-up-to-date"><span class="toc-number">7.3.</span> <span class="toc-text">Keep documentation up-to-date</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sharing-it-with-peer-developers"><span class="toc-number">7.4.</span> <span class="toc-text">Sharing it with peer developers</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Achieving-Stability-Through-Versioning"><span class="toc-number">8.</span> <span class="toc-text">Achieving Stability Through Versioning</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#URL-versioning"><span class="toc-number">8.1.</span> <span class="toc-text">URL versioning</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Parameter-versioning"><span class="toc-number">8.2.</span> <span class="toc-text">Parameter versioning</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Header-versioning"><span class="toc-number">8.3.</span> <span class="toc-text">Header versioning</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Key-considerations-for-API-versioning"><span class="toc-number">8.4.</span> <span class="toc-text">Key considerations for API versioning</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Effective-Error-Handling"><span class="toc-number">9.</span> <span class="toc-text">Effective Error Handling</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Clear-Error-Codes-and-Messages"><span class="toc-number">9.1.</span> <span class="toc-text">Clear Error Codes and Messages</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Consistent-error-structure"><span class="toc-number">9.2.</span> <span class="toc-text">Consistent error structure</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Providing-contextual-information"><span class="toc-number">9.3.</span> <span class="toc-text">Providing contextual information</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Security-Measures"><span class="toc-number">10.</span> <span class="toc-text">Security Measures</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#API-keys"><span class="toc-number">10.1.</span> <span class="toc-text">API keys</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Advanced-authentication-and-authorization"><span class="toc-number">10.2.</span> <span class="toc-text">Advanced authentication and authorization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Comprehensive-rate-limiting"><span class="toc-number">10.3.</span> <span class="toc-text">Comprehensive rate limiting</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Handling-sensitive-data"><span class="toc-number">10.4.</span> <span class="toc-text">Handling sensitive data</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Security-headers-and-CORS"><span class="toc-number">10.5.</span> <span class="toc-text">Security headers and CORS</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Community-Engagement"><span class="toc-number">11.</span> <span class="toc-text">Community Engagement</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Establishing-a-feedback-loop"><span class="toc-number">11.1.</span> <span class="toc-text">Establishing a feedback loop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Building-a-developer-community"><span class="toc-number">11.2.</span> <span class="toc-text">Building a developer community</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Wrap-Up"><span class="toc-number">12.</span> <span class="toc-text">Wrap Up</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://avatars3.githubusercontent.com/u/37806785?s=460&amp;u=8c68d685faf7c5280cfbd736a6b1730b55fb4203&amp;v=4"></div><div class="author-info__name text-center">Song Hayoung</div><div class="author-info__description text-center"></div><div class="follow-button"><a target="_blank" rel="noopener" href="https://www.linkedin.com/in/hayoung-song-9523b61bb/">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">10999</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">196</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">62</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">VISITED</div><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Seoul Korea</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Jeju Korea</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">British Columbia Canada</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Boracay Philippines</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">三重　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">大阪　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">名古屋　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">静岡　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">札幌　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">京都　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Bangkok Thailand</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://xxxx.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">SUMFIのBlog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a><a class="site-page" href="/about">About</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a></span></div><div id="post-info"><div id="post-title">[ByteByteGo] How to Design a Good API?</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2024-02-23</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/System-Design/">System Design</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/System-Design/Byte-Byte-Go/">Byte Byte Go</a><div class="post-meta-wordcount"><span>Word count: </span><span class="word-count">1.9k</span><span class="post-meta__separator">|</span><span>Reading time: 11 min</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="How-to-Design-a-Good-API"><a href="#How-to-Design-a-Good-API" class="headerlink" title="How to Design a Good API?"></a>How to Design a Good API?</h2><span id="more"></span>
<p>API를 연동하면서 “대체 무슨 생각으로 만든걸까?” 싶은 의문이 들 때가 있었을 것이다. API를 통해 서비스를 연결하는 것은 그만큼 혼란스러운 작업이다. 잘못된 디자인, 누락된 문서, 지속적인 변경 또는 버그로 인해 사용자는 혼란을 받는다. 이번 포스트에서는 쉽고 깔끔하고 잘 문서화된 API를 만드는 가이드라인을 소개한다.</p>
<h2 id="The-Importance-of-Good-API-Design"><a href="#The-Importance-of-Good-API-Design" class="headerlink" title="The Importance of Good API Design"></a>The Importance of Good API Design</h2><p>API는 중요한 자산이다. 사용자는 API를 통합, 코딩, 학습하는데 비용을 투자한다. 잘 설계된 API는 사용자에게 편의성을 제공할 수 있는 큰 잠재력을 지니지만 잘 못 설계된 API는 기능 장애로 인한 지원 요청의 폭주와 같은 문제를 야기한다. </p>
<p>API의 이런 이중적 특징은 API를 설계할 때 신중함과 정확성이 중요하다는 점을 시사한다. 목표는 단점보다 더 많은 이점을 제공하는 API를 만드는 것이다. 제품을 만들 때 보통 기술 전문 지식이 없는 일반 사용자를 염두하고 만든다. 그들이 원하는 것이 무엇인지 의견을 듣고 수렴해 친숙한 인터페이스를 만든다. 하지만 API는 대게 프로그래머를 위한 인터페이스를 만드는 일이다. 이들은 사소한 문제도 잘 찾아낸다.</p>
<p>API 디자이너로서의 관점은 사용자 관점과 약간 다르다. API가 수행해야 하거나 제공해야 하는 기능에 초점을 맞춘다. 반면 사용자는 최소한의 노력으로 필요한 것을 쉽게 얻는 것에 관심이 있다. 이런 서로 다른 관점은 문제를 야기한다. 핵심은 우리 관점을 사용자의 관점과 일치하도록 바꾸는 것이다.</p>
<h2 id="Characteristics-of-a-Good-API"><a href="#Characteristics-of-a-Good-API" class="headerlink" title="Characteristics of a Good API"></a>Characteristics of a Good API</h2><p>좋은 API는 효과성, 유용성, 장기적인 성공에 기여하는 몇 가지 특징이 있다.</p>
<p><img src="https://cdn.jsdelivr.net/gh/SongHayoung/image@master/uPic/image-20240223165315007.png" alt=""></p>
<h2 id="Requirements-Gathering"><a href="#Requirements-Gathering" class="headerlink" title="Requirements Gathering"></a>Requirements Gathering</h2><p>좋은 API를 설계하기 위한 첫 걸음은 사용자의 요구사항 수집이다. 이 과정에서 회의적인 태도로 접근해야 한다. 사용자는 근본적 요구사항에 초점을 맞추기 보다는 특정 솔루션을 제안하는 경우가 많다. </p>
<p>중요한 점은 사용자가 핵심 사용 사례를 통해 언뜻 보기에는 숨겨져 있더라도 근본적인 요구 사항을 발견하도록 하는 것이다. 처음 제안된 솔루션 아래에는 더 나은 디자인 아이디어가 숨어있을 수 있다.</p>
<p>또한 다양한 문제를 해결할 수 있는 다재다능한 API를 구상하는 것은 매우 흥미로운 일이다. 하지만 먼저 사용자의 실제 요구 사항에 집중해야 한다.</p>
<p>고수준의 기능 사양 초안을 작성해 설계 프로세스를 시작해라. 이 초기 실험 단계에서는 포괄적인 세부 사항보다 속도와 유연성이 더 중요하다.</p>
<p>초안을 대상 사용자 및 기타 이해관계자들과 널리 공유해야 한다. 피드백에 귀를 기울이면 개선된 서비스를 구체화하는 방법에 대한 좋은 인사이트를 얻을 수 있다.</p>
<p>핵심은 초기에 너무 많은 가정을 하지 않는 것이다. 요구사항 수집은 기초를 다지는 작업이므로 공식적인 API 설계로 넘어가기 전에 시간을 들여 파악해야 한다.</p>
<h2 id="One-API-One-Purpose"><a href="#One-API-One-Purpose" class="headerlink" title="One API, One Purpose"></a>One API, One Purpose</h2><p>좋은 API를 설계하기 위한 핵심 규칙은 너무 많고 다양한 문제를 해결하기 보다는 주요 문제를 잘 해결하는데 집중해야 한다는 것이다.</p>
<p>많은 사용 사례를 다루는 일반적인 API를 만들다가 실패하는 경우가 많다. 특정 사용자 요구와 연결된 뚜렷한 목적이 없으면 범위가 너무 흩어지게 된다. 모든 사람의 모든것이 되려 하면 기능이 얕아진다.</p>
<p>대신 구축하는 각 API의 범위를 제한해라. 목적이 명확하고 집중적으로 유지되도록 해라. 모든 기능을 뚜렷한 사용자 니즈 충족이라는 목표에 연결해야 한다. 주변적인 것은 모두 제거한다. 예를 들어, 주소 유효성 검사에만 초점을 맞춘 API는 목적이 분명하다. 신용카드 거래에만 초점을 맞춘 API는 기능은 다르지만 여전히 협소한 기능을 정의한다.</p>
<h2 id="Clarity-and-Consistency"><a href="#Clarity-and-Consistency" class="headerlink" title="Clarity and Consistency"></a>Clarity and Consistency</h2><p>API의 전반적 명확성과 일관성에 기여하는 몇 가지 효과적인 이름 지정 관행과 표준화된 응답을 살펴보자.</p>
<h3 id="Choosing-intuitive-names"><a href="#Choosing-intuitive-names" class="headerlink" title="Choosing intuitive names"></a>Choosing intuitive names</h3><p>좋은 API를 설계할 때 명확성은 엔드포인트와 리소스에 대해 선택하는 이름에서 시작된다. 명명 규칙을 일관되게 채택하고 적용하면 개발자는 마치 공통 언어를 사용하는 것처럼 API를 직관적으로 이해할 수 있다. 예를 들어 사용자 정보 검색을 위해 <code>/users</code>와 같은 엔드포인트에 RESTful 규칙을 사용하는 것은 업계 표준에 부합하다. 이를 통해 개발자는 과도한 문서화 없이도 엔드포인트의 목적을 파악할 수 있다.</p>
<p><img src="https://cdn.jsdelivr.net/gh/SongHayoung/image@master/uPic/image-20240223170028679.png" alt=""></p>
<p>모호한 엔드포인트 이름은 API의 혼돈과 오용을 초래할 수 있다. 예를 들어 금융 도메인에서 거래 처리를 담당하는 API 엔드포인트가 <code>POST /process</code>와 같이 있다고 가정하자. 이런 일반적인 이름 대신 거래를 나타내는 <code>/transactions</code>와 같은 이름을 사용하는 것이 더 RESTful 하다. 이런 명시적 이름 지정을 통해 혼돈을 방지하고 엔드포인트의 기능을 명확히 전달할 수 있다.</p>
<p><img src="https://cdn.jsdelivr.net/gh/SongHayoung/image@master/uPic/image-20240223170151970.png" alt=""></p>
<h3 id="Consistent-data-formats"><a href="#Consistent-data-formats" class="headerlink" title="Consistent data formats"></a>Consistent data formats</h3><p>API를 설계할땐 데이터 요청에 어떻게 응답할지 고려해야 한다. 응답 데이터를 일관되게 구조화하면 소비자를 위한 통합이 쉬워지고 개발 주기가 빨라진다.</p>
<p>주어진 사용자 ID에 대한 프로필 정보를 반환하는 엔드포인트인 사용자 프로필을 예로 들어보자. 주요 사용자 속성을 일관되게 구조화해 응답하면 개발자가 응답에서 필요한 세부 정보를 안정적으로 파싱할 수 있다. 예를 들어 모든 사용자 프로필 응답에 대해 이름, 이메일, 나이, 위치 및 기타 식별 가능한 사용자 속성을 예측 가능한 JSON 구조에 포함하면 직관적인 통합이 가능하다.</p>
<p>이런 접근 방식은 예측할 수 없거나 일관되기 않은 데이터 구조의 응답과 대조적이다. 다양한 형식이나 예상치 못한 속성으로 인해 개발자는 모든 엔드포인트에 맞게 통합 로직을 지속적으로 재구성해야 한다. 표준화는 이런 문제를 해결한다.</p>
<p><img src="https://cdn.jsdelivr.net/gh/SongHayoung/image@master/uPic/image-20240223171306036.png" alt=""></p>
<h2 id="Documentation-is-Key"><a href="#Documentation-is-Key" class="headerlink" title="Documentation is Key"></a>Documentation is Key</h2><p>잘 작성된 철저한 문서는 가이드 역할을 한다. 이를 통해 개발자는 학습 곡선을 최소화하면서 API를 통합할 수 있다. API의 지속적 이용을 위해선 최고 수준의 문서가 필수적이다. 이는 중요한 첫 인상을 결정짓는 중요한 요소이며, 사용자 친화적 문서는 사용자가 더 쉽게 API를 받아드릴 수 있게 한다.</p>
<h3 id="Describe-endpoints-and-methods"><a href="#Describe-endpoints-and-methods" class="headerlink" title="Describe endpoints and methods"></a>Describe endpoints and methods</h3><p>효과적인 문서는 각 API 엔드포인트와 메서드를 명확하고 완전하게 설명하는 것에서 시작된다. 예를 들어 API가 날씨 데이터를 제공하는 경우 “/weather” 엔드포인트에 대한 문서에는 그 목적, 허용되는 매개 변수 및 응답 형식이 설명되어 있어야 한다.</p>
<h3 id="Provide-examples-and-tutorials"><a href="#Provide-examples-and-tutorials" class="headerlink" title="Provide examples and tutorials"></a>Provide examples and tutorials</h3><p>사용 예제, 튜토리얼 및 코드 샘플은 개발자가 API 문서를 탐색하는데 유용한 학습 보조 자료다.</p>
<p>예를 들어, API에 OAuth 2.0을 통한 인증이 필요한 경우 여러 프로그래밍 언어로 된 간결하면서도 예시적인 코드 스니펫을 제공해라. 기본 사항을 알려주고 세부 기능으로 안내한 다음 이를 기반으로 구축할 수 있도록 해라. 이를 통해 사용자는 어디서부터 시작해야 하는지, 어떻게 애플리케이션에 통합할 수 있는지 이해할 수 있다.</p>
<h3 id="Keep-documentation-up-to-date"><a href="#Keep-documentation-up-to-date" class="headerlink" title="Keep documentation up-to-date"></a>Keep documentation up-to-date</h3><p>시간이 지남에 따라 API가 변경되므로 문서를 부지런히 업데이트해야 한다. 이를 통해 개발자는 API 수정에 대한 최신 정보를 얻을 수 있다. 오래된 문서는 통합 문제를 일으키고 사용자를 불편하게 할 수 있다.</p>
<h3 id="Sharing-it-with-peer-developers"><a href="#Sharing-it-with-peer-developers" class="headerlink" title="Sharing it with peer developers"></a>Sharing it with peer developers</h3><p>문서를 작성한 뒤 네트워크 내의 다른 개발자와 공유하고 문서를 사용해 기본적인 기능을 구축해라. 기본적인 통합을 달성하지 못하면 문서를 다시 작업해야 한다.</p>
<h2 id="Achieving-Stability-Through-Versioning"><a href="#Achieving-Stability-Through-Versioning" class="headerlink" title="Achieving Stability Through Versioning"></a>Achieving Stability Through Versioning</h2><p>안정적인 API를 유지하면서 장기적인 사용자 만족도를 보장하고 중단을 최소화할 수 있다. API가 발전함에 따라 새로운 기능을 도입하거나 기존 기능을 변경하면 현재 사용자의 호환성이 깨질 수 있다. 이런 문제를 해결하려면 일관된 버전 관리 전략을 채택하는 것이 중요하다. </p>
<h3 id="URL-versioning"><a href="#URL-versioning" class="headerlink" title="URL versioning"></a>URL versioning</h3><p>가장 간단한 접근 방식으로 <code>https://myapi.com/api/v1/widgets</code> 와 같은 API 엔드포인트 URL에 버전 번호를 직접 임베드하는 방식이다. 사용중인 API 버전에 대한 명확한 가시성을 제공하고 버전 간에 쉽게 전환할 수 있다.</p>
<p><img src="https://cdn.jsdelivr.net/gh/SongHayoung/image@master/uPic/image-20240223171958024.png" alt=""></p>
<h3 id="Parameter-versioning"><a href="#Parameter-versioning" class="headerlink" title="Parameter versioning"></a>Parameter versioning</h3><p>요청 매개 변수에 버저닝을 하는 방법도 있다 <code>https://myapi.com/api/widgets?version=1</code>.  이 접근 방식은 URL을 더 깔끔히 유지하지만 일부 CDN은 캐싱할 때 쿼리 매개변수를 스트라이핑할 수 있으므로 캐싱 전략이 복잡해질 수 있다.</p>
<h3 id="Header-versioning"><a href="#Header-versioning" class="headerlink" title="Header versioning"></a>Header versioning</h3><p>HTTP 요청 헤더에 버전 정보가 포함되는 방식이다 <code>Accept-version: v1</code>. 이 방법은 버전 간에 URL을 깔끔하고 일관되게 유지하지만 클라이언트가 헤더 정보를 수정해야 하므로 모든 사용자에게 간단하지 않을 수 있다.</p>
<h3 id="Key-considerations-for-API-versioning"><a href="#Key-considerations-for-API-versioning" class="headerlink" title="Key considerations for API versioning"></a>Key considerations for API versioning</h3><ul>
<li>이전 버전과의 호환성 : 기존 사용자가 쉽게 전환할 수 있도록 새 버전을 이전 버전과 호환되도록 만들어라. 급격한 변경이 불가피한 경우 버전 관리가 필수적인 도구가 된다.</li>
<li>사용 중단 정책 : 각 API 버전의 수명 주기를 명확히 전달해라. 사용 중단 공지와 사용 종료 날짜를 포함시키고 사용자에게 마이그레이션할 충분한 시간을 줘라.</li>
<li>변경 로그 : 각 버전에 대한 포괄적 문서가 중요하다. 새로운 기능, 수정 사항 및 중요한 변경 사항을 강조하는 상세한 변경 로그를 포함해라. 이런 투명성은 사용자의 마이그레이션 프로세스를 용이하게 한다.</li>
</ul>
<h2 id="Effective-Error-Handling"><a href="#Effective-Error-Handling" class="headerlink" title="Effective Error Handling"></a>Effective Error Handling</h2><p>효과적인 오류 처리는 사용자 친화적인 API 설계의 초석으로, 잠재적인 불만을 쉬운 디버깅과 문제 해결의 기회로 전환한다. API 소비자에게 오류가 발생했을 때 API가 무엇이 잘못되었고 어떻게 해결할 수 있는지를 전달하는 방식은 사용자 경험에 상당한 차이를 만들 수 있다. 고려해야 할 몇 가지 핵심 요소를 살펴보자.</p>
<h3 id="Clear-Error-Codes-and-Messages"><a href="#Clear-Error-Codes-and-Messages" class="headerlink" title="Clear Error Codes and Messages"></a>Clear Error Codes and Messages</h3><p>각 오류 응답에는 사람이 읽을 수 있는 메세지와 함께 표준화된 오류 코드가 포함되어야 한다. 이렇게 하면 개발자가 오류 유형을 빠르게 식별하고 문서를 찾지 않아도 무엇이 잘못되었는지 파악할 수 있다. </p>
<h3 id="Consistent-error-structure"><a href="#Consistent-error-structure" class="headerlink" title="Consistent error structure"></a>Consistent error structure</h3><p>오류 코드, 메세지, 오류 유형, 자세한 내용을 확인할 수 있는 문서 참조 링크 등의 요소를 포함해 모든 오류 메세지에 일관된 형식을 채택해라. 이런 일관성을 통해 API 소비자는 애플리케이션에서 보다 강력한 오류 처리 메커니즘을 구축할 수 있다.</p>
<h3 id="Providing-contextual-information"><a href="#Providing-contextual-information" class="headerlink" title="Providing contextual information"></a>Providing contextual information</h3><p>가능하면 오류 응답에 추가 컨텍스트를 포함해라. 예를 들어, 잘못된 매개변수로 인해 요청이 실패하는 경우 어떤 매개변수가 왜 잘못되었는지 그 이유를 명시한다. 이런 수준의 세부 정보를 통해 개발자는 문제를 신속히 진단하고 사용자는 API를 보다 효과적으로 사용할 수 있는 방법을 알 수 있다.</p>
<h2 id="Security-Measures"><a href="#Security-Measures" class="headerlink" title="Security Measures"></a>Security Measures</h2><p>API 액세스 보안은 단순한 모범 사례 그 이상이다. 데이터를 보호하고 API에 대한 신뢰를 확보하기 위해 반드시 필요하다. 효과적인 API 설계는 보안을 기본 요소로 통합한다. 이는 인증과 권한 부여를 간소화하는 동시에 무단 액세스 및 잠재적인 보안 위협에 대한 강력한 방어 기능을 제공한다.</p>
<h3 id="API-keys"><a href="#API-keys" class="headerlink" title="API keys"></a>API keys</h3><p>API 키를 API에 액세스하기 위한 디지털 자격 증명으로 생각해라. 개발자가 요청 헤더에 고유 API 키를 포함해야 하는 일기 예보 API를 생각해봐라. 이 키는 날씨 데이터에 대한 액세스 권한을 부여하는 암호 역할을 한다. API 키 보안의 중요성을 강조하고 정기적으로 키를 교체하면 전반적인 API 보안이 강화되어 무단 사용 및 잠재적인 위반을 방지할 수 있다.</p>
<p><img src="https://cdn.jsdelivr.net/gh/SongHayoung/image@master/uPic/image-20240223173600460.png" alt=""></p>
<h3 id="Advanced-authentication-and-authorization"><a href="#Advanced-authentication-and-authorization" class="headerlink" title="Advanced authentication and authorization"></a>Advanced authentication and authorization</h3><p>사용자 데이터에 대한 세분화된 액세스 제어가 필요한 시나리오에서는 기본 API키 외에도 OAuth 2.0과 같은 보다 정교한 인증 메커니즘을 구현하는 것을 고려해라. 이렇게 하면 사용자가 명시적으로 승인한 작업으로만 안전히 액세스를 제한할 수 있다.</p>
<h3 id="Comprehensive-rate-limiting"><a href="#Comprehensive-rate-limiting" class="headerlink" title="Comprehensive rate limiting"></a>Comprehensive rate limiting</h3><p>남용을 방지하고 공정한 사용을 보장하기 위해 rate limiting을 구현해라. 또한 DDoS 공격으로 이를 보호한다. 스팸을 방지하고 서비스 안정성을 유지하기 위해 속도 제한을 적용하는 소셜 미디어 API를 상상해봐라. 속도 제한은 사용자 또는 API 키가 주어진 시간 내에 수행할 수 있는 최대 요청 횟수를 지정함으로써 악의적인 공격의 위험을 완화한다.</p>
<h3 id="Handling-sensitive-data"><a href="#Handling-sensitive-data" class="headerlink" title="Handling sensitive data"></a>Handling sensitive data</h3><p>환자 기록을 안전히 전송하는 의료 API를 생각해봐라. 특히 TLS와 같은 프로토콜을 통한 암호화는 전송 중 민감한 데이터를 보호하는데 매우 중요하다. 사용자 자격 증명에 대한 해싱 및 salting과 같은 안전한 저장 방식을 구현하면 무단 액세스가 발생하더라도 그 영향을 최소화할 수 있다.</p>
<p><img src="https://cdn.jsdelivr.net/gh/SongHayoung/image@master/uPic/image-20240223173941470.png" alt=""></p>
<h3 id="Security-headers-and-CORS"><a href="#Security-headers-and-CORS" class="headerlink" title="Security headers and CORS"></a>Security headers and CORS</h3><p>HTTP 보안 헤더를 활용해 API와 소비자를 위한 추가 보호 계층을 추가해라.  Content-Security-Policy, X-Content-Type-Options, X-Frame-Options 와 같은 헤더는 사이트 간 스크립팅 및 클릭재킹을 비롯한 여러 종류의 공격을 방지할 수 있다. 또한 CORS(Cross-Origin Resource Sharing) 정책을 신중히 구성해 API에 액세스할 수 있는 도메인을 제어해 무단 도메인간 요청을 방지해라.</p>
<h2 id="Community-Engagement"><a href="#Community-Engagement" class="headerlink" title="Community Engagement"></a>Community Engagement</h2><p>사용자 커뮤니티의 참여는 단순한 전략이 아니라 지속적인 개선을 위한 노력이다. 강력한 피드백 루프를 구축하고 커뮤니티를 육성해 실제 사용자 피드백을 효과적으로 적용해야 한다.</p>
<h3 id="Establishing-a-feedback-loop"><a href="#Establishing-a-feedback-loop" class="headerlink" title="Establishing a feedback loop"></a>Establishing a feedback loop</h3><p>사용자 경험을 개선하고자 하는 날씨 API를 생각해 보자. 이 API는 모바일 앱과 웹사이트에 사용자 친화적인 피드백 메커니즘을 구축함으로써 사용자가 자신의 경험을 공유하고 날씨 데이터의 부정확성을 보고하거나 새로운 기능을 제안할 수 있도록 장려한다. 이런 직접적인 소통을 통해 API 팀은 사용자로부터 귀중한 인사이트를 수집하고 우려 사항을 즉시 해결하며, 사용자 요구에 부합하는 기능의 우선순위를 정할 수 있다.</p>
<h3 id="Building-a-developer-community"><a href="#Building-a-developer-community" class="headerlink" title="Building a developer community"></a>Building a developer community</h3><p>좋은 커뮤니티는 API의 성공과 성장에 필수적이다. 예를 들어, 정기 가상 밋업을 주최하고, 컨퍼런스에 참여하고, Stack Overflow와 같은 플랫폼에서 활발한 활동을 유지함으로써 이런 커뮤니티를 육성하는데 적극적으로 투자하는 핀테크 API를 상상해봐라. 이를 통해 개발자는 서로 및 API 팀과 소통하고 인사이트를 공유하며 공동으로 문제를 해결할 수 있다. 역동적인 커뮤니티는 새로운 API 사용자를 끌어들이고 기존 사용자가 통합 성공 사례를 공유해 API의 채택을 확대하는데 기여하는 옹호자가 될 수 있도록 해준다.</p>
<h2 id="Wrap-Up"><a href="#Wrap-Up" class="headerlink" title="Wrap Up"></a>Wrap Up</h2><p>결론적으로 효과적인 API를 설계하는 것은 성공과 장기적 사용성을 위해 매우 중요하다. 핵심은 깔끔하고 잘 문서화되어 있으며 사용하기 쉬운 API를 만드는 데 있다.</p>
<p>좋은 API를 설계하려면 요구 사항을 수집하고, 단일 목적에 초점을 맞추고, 명명 관행과 응답의 명확성과 일관성을 보장해야 한다. 포괄적인 문서는 개발자에게 없어서는 안될 가이드 역할을 하며 API의 전반적인 채택에 크게 기여한다. 버전 관리를 통한 안정성은 신뢰할 수 있는 API를 유지하는데 필수적이며, URL에 버전 번호를 포함하도록 제안하고 사용자를 위해 변경 로그를 보관하는 것이 좋다. API 키, OAuth Token, rate limiting, 민감한 데이터 보호 등의 보안 조치는 무단 액세스로부터 API를 보호하는데 매우 중요하다.</p>
<p>마지막으로 지속적 개선을 위한 노력으로 커뮤니티 참여를 강조하며 피드백 루프 설정, 개발자 커뮤니티 구축, 실제 사용자 피드백을 기반으로 한 API 개선에 대한 팁을 제공한다.</p>
<!-- flag of hidden posts --></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Song Hayoung</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://songhayoung.github.io/2024/02/23/System%20Design/ByteByteGo/private/how-to-design-a-good-api/">https://songhayoung.github.io/2024/02/23/System%20Design/ByteByteGo/private/how-to-design-a-good-api/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/System-Design/">System Design</a></div><nav id="pagination"></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '3604b61642355579f55e',
  clientSecret: 'f552120f18ac5aee3f6297e05e97d94c0a25cd4b',
  repo: 'SongHayoung.github.io',
  owner: 'SongHayoung',
  admin: 'SongHayoung',
  id: md5(decodeURI(location.pathname)),
  language: 'en'
})
gitalk.render('gitalk-container')</script></div></div><footer class="footer-bg" style="background-image: url(https://xxxx.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2020 - 2024 By Song Hayoung</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">Learning how to walk slowly to not miss important things</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script src="/js/search/algolia.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>