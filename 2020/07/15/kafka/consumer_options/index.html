<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="[Kafka] 카프카 컨슈머 옵션"><meta name="keywords" content="Kafka"><meta name="author" content="Song Hayoung"><meta name="copyright" content="Song Hayoung"><title>[Kafka] 카프카 컨슈머 옵션 | SUMFIのBlog</title><link rel="shortcut icon" href="/songcon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-169368422-1', 'auto');
ga('send', 'pageview');</script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"7LZ6OJ4D6C","apiKey":"9a84e13f74ea78c3fd54512c10139c56","indexName":"git blog","hits":{"per_page":10},"languages":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}.","hits_stats":"${hits} results found in ${time} ms"}},
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/rss2.xml" title="SUMFIのBlog" type="application/rss+xml">
</head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Options"><span class="toc-number">1.</span> <span class="toc-text">Options</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#bootstrap-servers"><span class="toc-number">1.1.</span> <span class="toc-text">bootstrap.servers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fetch-min-bytes"><span class="toc-number">1.2.</span> <span class="toc-text">fetch.min.bytes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#group-id"><span class="toc-number">1.3.</span> <span class="toc-text">group.id</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#enable-auto-commit"><span class="toc-number">1.4.</span> <span class="toc-text">enable.auto.commit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#auto-offset-reset"><span class="toc-number">1.5.</span> <span class="toc-text">auto.offset.reset</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fetch-max-bytes"><span class="toc-number">1.6.</span> <span class="toc-text">fetch.max.bytes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#request-timeout-ms"><span class="toc-number">1.7.</span> <span class="toc-text">request.timeout.ms</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#session-timeout-ms"><span class="toc-number">1.8.</span> <span class="toc-text">session.timeout.ms</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#heartbeat-interval-ms"><span class="toc-number">1.9.</span> <span class="toc-text">heartbeat.interval.ms</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#max-poll-records"><span class="toc-number">1.10.</span> <span class="toc-text">max.poll.records</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#max-poll-interval-ms"><span class="toc-number">1.11.</span> <span class="toc-text">max.poll.interval.ms</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#auto-commit-interval-ms"><span class="toc-number">1.12.</span> <span class="toc-text">auto.commit.interval.ms</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fetch-max-wait-ms"><span class="toc-number">1.13.</span> <span class="toc-text">fetch.max.wait.ms</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://avatars3.githubusercontent.com/u/37806785?s=460&amp;u=8c68d685faf7c5280cfbd736a6b1730b55fb4203&amp;v=4"></div><div class="author-info__name text-center">Song Hayoung</div><div class="author-info__description text-center"></div><div class="follow-button"><a target="_blank" rel="noopener" href="https://www.linkedin.com/in/hayoung-song-9523b61bb/">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">10706</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">193</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">61</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">VISITED</div><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Seoul Korea</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Jeju Korea</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">British Columbia Canada</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Boracay Philippines</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">三重　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">大阪　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">名古屋　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">静岡　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">札幌　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">京都　日本</a><a class="author-info-links__name text-center" href="https://songhayoung.github.io/">Bangkok Thailand</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://xxxx.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">SUMFIのBlog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a><a class="site-page" href="/about">About</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a></span></div><div id="post-info"><div id="post-title">[Kafka] 카프카 컨슈머 옵션</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-07-15</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Kafka/">Kafka</a><div class="post-meta-wordcount"><span>Word count: </span><span class="word-count">303</span><span class="post-meta__separator">|</span><span>Reading time: 1 min</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h2><span id="more"></span>
<h3 id="bootstrap-servers"><a href="#bootstrap-servers" class="headerlink" title="bootstrap.servers"></a>bootstrap.servers</h3><p>카프카 클러스터는 클러스터 마스터라는 개념이 없기 때문에 모든 서버가 클라이언트의 요청을 받을 수 있다. 이 옵션은 카프카 클러스터에 처음 연결을 위한 호스트와 포트정보로 구성된 리스트 정보이다. 호스트는 카프카 클러스터 전체를 입력하기를 권장한다. 일부만 입력했을 경우 해당 브로커가 다운되면 접속이 불가능하기 때문이다.</p>
<h3 id="fetch-min-bytes"><a href="#fetch-min-bytes" class="headerlink" title="fetch.min.bytes"></a>fetch.min.bytes</h3><p>한번에 가져올 수 있는 최소 데이터 사이즈이다. 만약 지정한 사이즈보다 작은 경우 요청에 대해 응답하지 않고 데이터가 누적될 때 까지 기다린다.</p>
<h3 id="group-id"><a href="#group-id" class="headerlink" title="group.id"></a>group.id</h3><p>컨슈머가 속한 컨슈머 그룹을 식별하는 식별자이다.</p>
<h3 id="enable-auto-commit"><a href="#enable-auto-commit" class="headerlink" title="enable.auto.commit"></a>enable.auto.commit</h3><p>백그라운드로 주기적으로 오프셋을 커밋한다. 기본값은 5초이다.</p>
<h3 id="auto-offset-reset"><a href="#auto-offset-reset" class="headerlink" title="auto.offset.reset"></a>auto.offset.reset</h3><p>카프카에서 초기 오프셋이 없거나 현재 오프셋이 더이상 존재하지 않는 경우 다음 옵션으로 리셋한다</p>
<ol>
<li>earliest : 가장 초기의 오프셋값으로 설정</li>
<li>latest : 가장 마지막의 오프셋값으로 설정</li>
<li>none : 이전 오프셋값을 찾지 못하면 에러를 나타냄</li>
</ol>
<h3 id="fetch-max-bytes"><a href="#fetch-max-bytes" class="headerlink" title="fetch.max.bytes"></a>fetch.max.bytes</h3><p>한번에 가져올 수 있는 최대 데이터 사이즈이다.</p>
<h3 id="request-timeout-ms"><a href="#request-timeout-ms" class="headerlink" title="request.timeout.ms"></a>request.timeout.ms</h3><p>요청에 대해 응답을 기다리는 최대 시간</p>
<h3 id="session-timeout-ms"><a href="#session-timeout-ms" class="headerlink" title="session.timeout.ms"></a>session.timeout.ms</h3><p>컨슈머와 브로커 사이의 세션 타임아웃 시간을 지정하는 옵션이다. 기본값은 10초이다. 컨슈머가 코디네이터에게 하트비트를 보내지 않고 타임아웃이 지나면 해당 컨슈머는 장애가 발생한것으로 판단하고 컨슈머 그룹의 리벨런스를 시도한다. 즉 위 옵션은 하트비트 없이 얼마나 오랫동안 컨슈머가 있을 수 있는가와 관련된 옵션이다. 너무 낮게 설정하면 실패를 빨리 감지하지만 GC같은 작업으로 인해 지연된 경우 리벨런스가 일어나기도 한다. 너무 높게 설정하면 리벨런스는 적게 일어나겠지만 오류 감지에 시간이 너무 늦어지기도 한다.</p>
<h3 id="heartbeat-interval-ms"><a href="#heartbeat-interval-ms" class="headerlink" title="heartbeat.interval.ms"></a>heartbeat.interval.ms</h3><p>그룹 코디네이터에게 얼마나 자주 poll() 메소드로 하트비트를 보낼 것인지 설정하는 옵션이다. 기본값은 3초이다.</p>
<h3 id="max-poll-records"><a href="#max-poll-records" class="headerlink" title="max.poll.records"></a>max.poll.records</h3><p>단일 호출 poll에 대한 최대 레코드 수를 정하는 옵션이다.</p>
<h3 id="max-poll-interval-ms"><a href="#max-poll-interval-ms" class="headerlink" title="max.poll.interval.ms"></a>max.poll.interval.ms</h3><p>일정 주기동안 poll을 호출하지 않은 컨슈머를 걸러내기 위한 옵션이다. 컨슈머가 하트비트 메세지만 전송하고 poll을 통한 메세지를 가져가지 않는 경우 해당 파티션을 무한정 점유하기 때문에 해당 값이 넘어선다면 컨슈머 그룹에서 해당 컨슈머를 제외시킨다.</p>
<h3 id="auto-commit-interval-ms"><a href="#auto-commit-interval-ms" class="headerlink" title="auto.commit.interval.ms"></a>auto.commit.interval.ms</h3><p>주기적으로 오프셋을 커밋하는 시간 지정 옵션이다.</p>
<h3 id="fetch-max-wait-ms"><a href="#fetch-max-wait-ms" class="headerlink" title="fetch.max.wait.ms"></a>fetch.max.wait.ms</h3><p>fetch.min.bytes에 설정된 데이터보다 적은 경우 응답을 기다리는 최대 시간을 지정하는 옵션이다.</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Song Hayoung</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://songhayoung.github.io/2020/07/15/kafka/consumer_options/">https://songhayoung.github.io/2020/07/15/kafka/consumer_options/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Kafka/">Kafka</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/07/15/Network/heart-beat/"><i class="fa fa-chevron-left">  </i><span>[Network] Tcp Heart Beat</span></a></div><div class="next-post pull-right"><a href="/2020/07/14/Languages/JS/Closure/"><span>[JavaScript] Closure</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '3604b61642355579f55e',
  clientSecret: 'f552120f18ac5aee3f6297e05e97d94c0a25cd4b',
  repo: 'SongHayoung.github.io',
  owner: 'SongHayoung',
  admin: 'SongHayoung',
  id: md5(decodeURI(location.pathname)),
  language: 'en'
})
gitalk.render('gitalk-container')</script></div></div><footer class="footer-bg" style="background-image: url(https://xxxx.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2020 - 2024 By Song Hayoung</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">Learning how to walk slowly to not miss important things</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script src="/js/search/algolia.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>